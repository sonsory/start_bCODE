<!DOCTYPE html>
<!-- view/posts/edit.ejs -->
<html>
	<head>
		<% include ../partials/head %>
	</head>
	<body>
		<% include ../partials/nav %>

		<div class="container post post-edit">
			<% include ./partials/header %>

			<div class="buttons">
				<a class="btn btn-default" href="/posts">Back</a>
			</div>

			<form class="post-form form-horizontal" action="/posts/<%= post._id %>?_method=put" method="post">
				<div class="contentBox">
					<h3 class="contentBoxTop">Edit Post</h3>
					<fieldset>
						<div class="form-group <%= (errors.title)?'has-error':'' %>">
							<label for="title" class="col-sm-2 control-label">Title</label>
							<div class="col-sm-10">
								<input class="form-control" type="text" id="title" name="title" value="<%= post.title %>">
								<% if(errors.title) { %>
									<span class="help-block"><%= errors.title.message %></span>
								<% } %>
							</div>
						</div>
						<div class="form-group <%= (errors.link)?'has-error':'' %>">
							<label for="link" class="col-sm-2 control-label">Link</label>
							<div class="col-sm-10">
								<input class="form-control" type="text" id="link" name="link" value="<%= post.link %>">
								<% if(errors.link) { %>
									<span class="help-block"><%= errors.link.message %></span>
								<% } %>
							</div>
						</div>
						<div class="form-group <%= (errors.bcode)?'has-error':'' %>">
							<label for="bcode" class="col-sm-2 control-label">bCODE</label>
							<div class="col-sm-10">
								<input class="form-control" type="text" id="bcode" name="bcode" value="<%= post.bcode %>">
								<% if(errors.bcode) { %>
									<span class="help-block"><%= errors.bcode.message %></span>
								<% } %>
							</div>
						</div>
						<div class="form-group <%= (errors.body)?'has-error':'' %>">
							<label for="body" class="col-sm-2 control-label">Body</label>
							<div class="col-sm-10">
								<textarea class="form-control" id="body" name="body" row="5"><%= post.body %></textarea>
								<% if(errors.body){ %>
									<span class="help-block"><%= errors.body.message %></span>
								<% } %>
							</dvi>
						</div>




					</fieldset>
				</div>
				<div class="buttons">
					<button type="submit" class="btn btn-default">Submit</button>
				</div>
				<% if(errors.unhandled){ %>
					<div class="alert alert-danger">
						<%= errors.unhandled %>
					</div>
				<% } %>
			</form>
			<div id="set">
				<div class="container1" style="height: 50px;">

					<div class="card">

						<div id="tile0" class="mybox" style="background:white;">
						</div>

						<div id="tile1" class="mybox" style="background:black;">
						</div>

						<div id="tile2" class="mybox" style="background:black;">
						</div>

						<div id="tile3" class="mybox" style="background:black;">
						</div>

						<div id="tile4" class="mybox" style="background:black;">
						</div>

						<div id="tile5" class="mybox" style="background:black;" >
						</div>

						<div id="tile6" class="mybox" style="background:black;">
						</div>

						<div id="tile7" class="mybox" style="background:black;">
						</div>

						<div id="tile8" class="mybox" style="background:black;">
						</div>

					</div>
				</div>

			</div>

		</div> <!-- container end -->
		<script src="/js/camera3/edit.js"></script>
		<script>
		var bcode1 = "<%= post.bcode %>"; // 171226 현재 bcode1은 길이 17을 갖는 어떤 값
		var bcode = bcode1.split(',') // 171226 위의 길이 17을 갖는 값을 ,로 분리( ','이 길이 8을 차지하는 값이 었음)하여 9개의 배열로 만들어줌
		console.log("bcode : ", bcode);
		console.log("bcode.length : ", bcode.length);

		for(i=0; i<bcode.length; i++){
				if(bcode[i]==0){
					$("#tile" + i).css("background", "white");
				} else {
					$("#tile" + i).css("background", "black");
				}

				}

  //	$(document).ready(function() {		});
	//for(i=0; i<bcode.length; i++){	//	}

		</script>
	</body>
</html>
